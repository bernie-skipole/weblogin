
## adduser.html - This creates the 'Add a new User' button and form, visible to administrators.

## The button toggles between 'Close' and 'Add a new User' legends, and makes the form visible or not
## The form posts to /edit/newuser, and result text replaces id newuserconfirm
## The newuserconfirm paragraph is deleted on button close, and remade when it opens, ready for the next user.


<div x-data="{ open: false }"  class="w3-content" style="max-width:400px;margin-top:5vh;margin-bottom:5vh;">

  <div>
    <button x-on:click="open=!open" x-text="open ? 'Close' : 'Add a new User'" class="w3-button w3-black w3-ripple w3-round" style="width:100%"></button>
  </div>

  <div x-show="open" class="w3-container w3-card" style="margin-top:5vh;">
    <form hx-post="/edit/newuser" hx-target="#newuserconfirm" hx-swap="outerHTML" hx-on::after-request="if(event.detail.successful) this.reset()">
      <p><label for="username">New Username:</label>
        <input class="w3-input" type="text" id="username" name="username" required /></p>
      <p><label for="password">New Password:</label>
        <input class="w3-input" type="text" id="password" name="password" required /></p>
      <p>Admin or User:</p>
      <div style="margin-left:20%">
      <p><input class="w3-radio" type="radio" id="adminauth" name="authlevel" value="Admin" />
         <label for="adminauth">Admin</label></p>
      <p><input class="w3-radio" type="radio" id="userauth" name="authlevel" value="User" checked />
         <label for="userauth">User</label></p>
      </div>
      <p><label for="fullname">Full name:</label>
        <input class="w3-input" type="text" id="fullname" name="fullname" required /></p>
      <p class="w3-center">
        <button class="w3-button w3-black w3-ripple w3-round" type="submit">Submit</button></p>
    </form>

    <span x-html="open ? '&lt;p id=&quot;newuserconfirm&quot;&gt;&lt;/p&gt;' : '&lt;p&gt;&lt;/p&gt;'"></span>
  </div>

</div>
