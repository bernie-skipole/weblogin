
## adminedit.html
<%inherit file="useredit.html"/>

<%block name="title">
<title>Admin Edit</title>
</%block>


  ${parent.body()}


<div x-data="{ open: false }" style="margin-left:auto;width:80%;max-width:400px;margin-right:auto;margin-top:5vh;margin-bottom:5vh;">

  <div>
    <button x-on:click="open=!open" x-text="open ? 'Close' : 'Add a new User'" class="w3-button w3-black w3-ripple w3-round" style="width:100%"></button>
  </div>

  <div x-show="open" class="w3-container w3-card" style="margin-top:5vh;">
    <p>Add a new user</p>
    <form hx-post="/edit/newuser" hx-target="#result" hx-swap="outerHTML" hx-on::after-request="if(event.detail.successful) this.reset()">
      <p><label for="username">New Username:</label>
        <input class="w3-input" type="text" id="username" name="username" required /></p>
      <p><label for="password">New Password:</label>
        <input class="w3-input" type="text" id="password" name="password" required /></p>
      <p><label for="authlevel">Admin or User:</label>
        <input class="w3-input" type="text" id="authlevel" name="authlevel" required /></p>
      <p><label for="fullname">Users full name:</label>
        <input class="w3-input" type="text" id="fullname" name="fullname" required /></p>
      <p class="w3-center">
        <button class="w3-button w3-black w3-ripple w3-round" type="submit">Submit</button></p>
    </form>

    <span x-html="open ? '&lt;p id=&quot;result&quot;&gt;&lt;/p&gt;' : '&lt;p&gt;&lt;/p&gt;'"></span>
  </div>

</div>


<div class="w3-panel">
  <table class="w3-table-all">
    <tr>
      <th>Username</th>
      <th>Full name</th>
      <th class="w3-center">Choose to Edit this user</th>
    </tr>

    % for row in users:
      <tr>
        % for item in row:
            <td>${item}</td>
        % endfor
        <td class="w3-center"><a href="/edit/edituser/${row[0]}" class="w3-button w3-black w3-ripple w3-round w3-small">Edit</a></td>
      </tr>
    % endfor

  </table>
</div>


<div class="w3-panel">

  % if prevpage < thispage:
   <div class="w3-left">
  % else:
   <div class="w3-left w3-hide">
  % endif
      <button class="w3-button w3-black w3-ripple w3-round w3-small" hx-get="/edit/userpage/${prevpage}" hx-target="#userlist">Previouse Page ${prevpage+1}</button>
  </div>


  % if nextpage > thispage:
   <div class="w3-right">
  % else:
   <div class="w3-right w3-hide">
  % endif
      <button class="w3-button w3-black w3-ripple w3-round w3-small" hx-get="/edit/userpage/${nextpage}" hx-target="#userlist">Next Page ${nextpage+1}</button>
  </div>

</div>
